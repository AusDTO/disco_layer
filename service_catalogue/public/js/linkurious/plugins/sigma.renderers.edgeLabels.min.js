(function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.settings");var a={defaultEdgeLabelColor:"#000",defaultEdgeLabelActiveColor:"#000",defaultEdgeLabelSize:10,edgeLabelSize:"fixed",edgeLabelAlignment:"auto",edgeLabelSizePowRatio:1,edgeLabelThreshold:1,defaultEdgeHoverLabelBGColor:"#fff",edgeLabelHoverBGColor:"default",edgeLabelHoverShadow:"default",edgeLabelHoverShadowColor:"#000"};sigma.settings=sigma.utils.extend(sigma.settings||{},a),sigma.settings.drawEdgeLabels=!0}).call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.curve=function(a,b,c,d,e){function f(a,b,c,d,e,f,g){var h=Math.round(b.measureText(e).width+d+1.5+c/3),i=c+4;b.save(),b.beginPath(),b.translate(f,g),b.rotate(a),b.rect(-h/2,-i-d/2,h,i),b.closePath(),b.fill(),b.restore()}if("string"==typeof a.label){var g=e("prefix")||"",h=a[g+"size"]||1;if(!(h<e("edgeLabelThreshold"))||a.hover){if(0===e("edgeLabelSizePowRatio"))throw new Error('Invalid setting: "edgeLabelSizePowRatio" is equal to 0.');var i,j,k=b[g+"size"],l=b[g+"x"],m=b[g+"y"],n=c[g+"x"],o=c[g+"y"],p=n-l,q=o-m,r=n>l?1:-1,s={},t=0,u=.5,v=a.hover?e("hoverFontStyle")||e("fontStyle"):e("fontStyle");if(b.id===c.id?(s=sigma.utils.getSelfLoopControlPoints(l,m,k),j=sigma.utils.getPointOnBezierCurve(u,l,m,n,o,s.x1,s.y1,s.x2,s.y2)):(s=sigma.utils.getQuadraticControlPoint(l,m,n,o),j=sigma.utils.getPointOnQuadraticCurve(u,l,m,n,o,s.x,s.y)),i="fixed"===e("edgeLabelSize")?e("defaultEdgeLabelSize"):e("defaultEdgeLabelSize")*h*Math.pow(h,-1/e("edgeLabelSizePowRatio")),d.save(),d.font=a.active?[e("activeFontStyle")||e("fontStyle"),i+"px",e("activeFont")||e("font")].join(" "):[v,i+"px",e("font")].join(" "),d.textAlign="center",d.textBaseline="alphabetic","auto"===e("edgeLabelAlignment"))if(b.id===c.id)t=Math.atan2(1,1);else{var w=d.measureText(a.label).width,x=sigma.utils.getDistance(b[g+"x"],b[g+"y"],c[g+"x"],c[g+"y"]);x=x-b[g+"size"]-c[g+"size"]-10,x>w&&(t=Math.atan2(q*r,p*r))}a.hover&&(d.fillStyle="edge"===e("edgeLabelHoverBGColor")?a.color||e("defaultEdgeColor"):e("defaultEdgeHoverLabelBGColor"),e("edgeLabelHoverShadow")&&(d.shadowOffsetX=0,d.shadowOffsetY=0,d.shadowBlur=8,d.shadowColor=e("edgeLabelHoverShadowColor")),f(t,d,i,h,a.label,j.x,j.y),e("edgeLabelHoverShadow")&&(d.shadowBlur=0,d.shadowColor="#000")),d.fillStyle=a.active?"edge"===e("edgeActiveColor")?a.active_color||e("defaultEdgeActiveColor"):e("defaultEdgeLabelActiveColor"):"edge"===e("edgeLabelColor")?a.color||e("defaultEdgeColor"):e("defaultEdgeLabelColor"),d.translate(j.x,j.y),d.rotate(t),d.fillText(a.label,0,-h/2-3),d.restore()}}}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels"),sigma.canvas.edges.labels.curvedArrow=function(a,b,c,d,e){sigma.canvas.edges.labels.curve(a,b,c,d,e)}}.call(this),function(){"use strict";function a(a,b,c,d,e,f,g){var h=Math.round(b.measureText(e).width+d+1.5+c/3),i=c+4;b.save(),b.beginPath(),b.translate(f,g),b.rotate(a),b.rect(-h/2,-i-d/2,h,i),b.closePath(),b.fill(),b.restore()}if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.edges.labels");var b=null;sigma.canvas.edges.labels.def={pre:function(){b=""}},sigma.canvas.edges.labels.def.render=function(c,d,e,f,g){if("string"==typeof c.label&&d!=e){var h=g("prefix")||"",i=c[h+"size"]||1;if(!(i<g("edgeLabelThreshold"))||c.hover){if(0===g("edgeLabelSizePowRatio"))throw new Error('Invalid setting: "edgeLabelSizePowRatio" is equal to 0.');var j,k,l,m,n=0,o=c.hover?g("hoverFontStyle")||g("fontStyle"):g("fontStyle"),p=(d[h+"x"]+e[h+"x"])/2,q=(d[h+"y"]+e[h+"y"])/2;j="fixed"===g("edgeLabelSize")?g("defaultEdgeLabelSize"):g("defaultEdgeLabelSize")*i*Math.pow(i,-1/g("edgeLabelSizePowRatio"));var r=[o,j+"px",g("font")].join(" ");if(c.active&&(r=[g("activeFontStyle")||g("fontStyle"),j+"px",g("activeFont")||g("font")].join(" ")),b!=r&&(f.font=r,b=r),f.textAlign="center",f.textBaseline="alphabetic","auto"===g("edgeLabelAlignment")){var s;s=g("approximateLabelWidth")?.5*c.label.length*j:f.measureText(c.label).width;var t=sigma.utils.getDistance(d[h+"x"],d[h+"y"],e[h+"x"],e[h+"y"]);t=t-d[h+"size"]-e[h+"size"]-10,t>s&&(k=e[h+"x"]-d[h+"x"],l=e[h+"y"]-d[h+"y"],m=d[h+"x"]<e[h+"x"]?1:-1,n=Math.atan2(l*m,k*m))}c.hover&&(f.fillStyle="edge"===g("edgeLabelHoverBGColor")?c.color||g("defaultEdgeColor"):g("defaultEdgeHoverLabelBGColor"),g("edgeLabelHoverShadow")&&(f.shadowOffsetX=0,f.shadowOffsetY=0,f.shadowBlur=8,f.shadowColor=g("edgeLabelHoverShadowColor")),a(n,f,j,i,c.label,p,q),g("edgeLabelHoverShadow")&&(f.shadowBlur=0,f.shadowColor="#000")),f.fillStyle=c.active?"edge"===g("edgeActiveColor")?c.active_color||g("defaultEdgeActiveColor"):g("defaultEdgeLabelActiveColor"):"edge"===g("edgeLabelColor")?c.color||g("defaultEdgeColor"):g("defaultEdgeLabelColor"),f.translate(p,q),f.rotate(n),f.fillText(c.label,0,-i/2-3),f.rotate(-n),f.translate(-p,-q)}}}}.call(this);
//# sourceMappingURL=sigma.renderers.edgeLabels.min.js.map