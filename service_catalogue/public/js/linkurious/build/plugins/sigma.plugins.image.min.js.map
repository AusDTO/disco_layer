{"version":3,"file":"sigma.plugins.image.min.js","sources":["../../plugins/sigma.plugins.image/sigma.plugins.image.js"],"names":["dataURLToBlob","dataURL","BASE64_MARKER","indexOf","parts","split","contentType","raw","decodeURIComponent","Blob","type","window","atob","rawLength","length","uInt8Array","Uint8Array","i","charCodeAt","download","dataUrl","extension","filename","navigator","msSaveOrOpenBlob","msSaveBlob","anchor","document","createElement","setAttribute","body","appendChild","click","removeChild","calculateAspectRatioFit","srcWidth","srcHeight","maxSize","ratio","Math","min","width","height","calculateZoomedBoundaries","s","r","params","bounds","sigma","utils","getBoundaries","graph","camera","readPrefix","minX","zoomRatio","minY","maxX","maxY","calculateRatio","boundaries","margin","clips","size","sizeMax","Image","format","_types","Error","clip","this","clone","merged","draw","toDataURL","pkg","_contexts","_canvas","_canvasContext","png","jpg","gif","tiff","prototype","tmpContainer","el","getElementById","id","round","renderer","addRenderer","container","settings","batchEdgesDrawing","drawLabels","labels","webgl","renderers","sized","doneContexts","getContext","refresh","forEach","name","contexts","canvas","domElements","scene","context","WebGLRenderingContext","drawImage","push","killRenderer","parentNode","innerWidth","mergedContext","background","rect","fillStyle","fill","_instance","plugins","image","options","killImage","call"],"mappings":"CAAC,WACC,YAgCA,SAASA,GAAcC,GACrB,GAAIC,GAAgB,UACpB,IAAsC,IAAlCD,EAAQE,QAAQD,GAAsB,CACxC,GAAIE,GAAQH,EAAQI,MAAM,KACtBC,EAAcF,EAAM,GAAGC,MAAM,KAAK,GAClCE,EAAMC,mBAAmBJ,EAAM,GAEnC,OAAO,IAAIK,OAAMF,IAAOG,KAAMJ,IAUhC,IAAK,GAPDF,GAAQH,EAAQI,MAAMH,GACtBI,EAAcF,EAAM,GAAGC,MAAM,KAAK,GAClCE,EAAMI,OAAOC,KAAKR,EAAM,IACxBS,EAAYN,EAAIO,OAEhBC,EAAa,GAAIC,YAAWH,GAEvBI,EAAI,EAAOJ,EAAJI,IAAiBA,EAC/BF,EAAWE,GAAKV,EAAIW,WAAWD,EAGjC,OAAO,IAAIR,OAAMM,IAAcL,KAAMJ,IAGvC,QAASa,GAASC,EAASC,EAAWC,GAGpC,GAFAA,EAAWA,GAAY,SAAWD,EAE9BE,UAAUC,iBACZD,UAAUC,iBAAiBxB,EAAcoB,GAAUE,OAEhD,IAAIC,UAAUE,WACjBF,UAAUE,WAAWzB,EAAcoB,GAAUE,OAE1C,CACH,GAAII,GAASC,SAASC,cAAc,IACpCF,GAAOG,aAAa,OAAQT,GAC5BM,EAAOG,aAAa,WAAYP,GAGhCK,SAASG,KAAKC,YAAYL,GAC1BA,EAAOM,QACPL,SAASG,KAAKG,YAAYP,IAI9B,QAASQ,GAAwBC,EAAUC,EAAWC,GACpD,GAAIC,GAAQC,KAAKC,IAAIH,EAAUF,EAAUE,EAAUD,EACnD,QAASK,MAAON,EAAWG,EAAOI,OAAQN,EAAYE,GAGxD,QAASK,GAA0BC,EAAGC,EAAGC,GACvC,GAAIC,EAYJ,OAVAA,GAASC,MAAMC,MAAMC,cACnBN,EAAEO,MACFN,EAAEO,OAAOC,YAGXN,EAAOO,MAAQR,EAAOS,UACtBR,EAAOS,MAAQV,EAAOS,UACtBR,EAAOU,MAAQX,EAAOS,UACtBR,EAAOW,MAAQZ,EAAOS,UAEfR,EAGT,QAASY,GAAef,EAAGC,EAAGC,GAC5B,GAAIc,GACAC,EAASf,EAAOe,QAAU,EAC1BvB,GACEG,MAAQI,EAAEJ,MACVC,OAAQG,EAAEH,OAkBhB,OAfKI,GAAOgB,OAAUhB,EAAOiB,KAQpBjB,EAAOiB,MAAQjB,EAAOiB,MAAQ,IACrCzB,EAAQJ,EAAwBW,EAAEJ,MAAOI,EAAEH,OAAQI,EAAOiB,QAR1DH,EAAajB,EAA0BC,EAAGC,EAAGC,GAE7CR,GACEG,MAAQmB,EAAWH,KAAOG,EAAWN,KAA4B,EAArBM,EAAWI,QACvDtB,OAAQkB,EAAWF,KAAOE,EAAWJ,KAA4B,EAArBI,EAAWI,UAO3D1B,EAAMG,OAASoB,EACfvB,EAAMI,QAAUmB,EAETvB,EAaV,QAAS2B,GAAMrB,EAAGC,EAAGC,GAGlB,GAFAA,EAASA,MAELA,EAAOoB,UAAYpB,EAAOoB,SAAUC,IACtC,KAAMC,OAAM,8CAAgDtB,EAAOoB,OAAS,KAE9E,IAAI5B,GAAQqB,EAAef,EAAGC,EAAGC,EAE7BA,GAAOuB,MACTC,KAAKC,MAAM3B,EAAGE,EAAQR,EAExB,IAAIkC,GAASF,KAAKG,KAAK5B,EAAGC,EAAQR,GAE9BlB,EAAUoD,EAAOE,UAAUP,EAAOrB,EAAOoB,QAAU,OASvD,OAPGpB,GAAO3B,UACRA,EACEC,EACA0B,EAAOoB,QAAU,MACjBpB,EAAOxB,UAGJF,EA1JT,GAAqB,mBAAV4B,OACT,KAAM,uBAGRA,OAAMC,MAAM0B,IAAI,gBAWhB,IAAIC,GACAT,EACAU,EACAC,CAEJF,IAAa,QAAS,QAAS,QAAS,UACxCT,GACEY,IAAK,YACLC,IAAK,aACLC,IAAK,YACLC,KAAM,cAwIRjB,EAAMkB,UAAUZ,MAAQ,SAAS3B,EAAGE,EAAQR,GAC1CQ,EAAOsC,aAAetC,EAAOsC,cAAgB,iBAE7C,IAAIC,GAAK1D,SAAS2D,eAAexC,EAAOsC,aACnCC,KACHA,EAAM1D,SAASC,cAAc,OAC7ByD,EAAGE,GAAKzC,EAAOsC,aACfzD,SAASG,KAAKC,YAAYsD,IAE5BA,EAAGxD,aAAa,QACZ,SAAWS,EAAMG,MAAQ,aACbF,KAAKiD,MAAMlD,EAAMI,QAAU,MAE3C,IAAI+C,GAAW7C,EAAE8C,aACfC,UAAWhE,SAAS2D,eAAexC,EAAOsC,cAC1C1E,KAAM,SACNkF,UACEC,mBAAmB,EACnBC,aAAchD,EAAOiD,SAGzBN,GAASrC,OAAOd,MAASQ,EAAOS,UAAY,EAAKT,EAAOS,UAAY,CAEpE,IAAIyC,GAAQP,YAAoBzC,OAAMiD,UAAUD,MAC5CE,GAAQ,EACRC,IAEJtB,GAAUlD,SAASC,cAAc,UACjCkD,EAAiBD,EAAQuB,WAAW,MAEpCxD,EAAEyD,UAEFzB,EAAU0B,QAAQ,SAASC,GACzB,GAAKd,EAASe,SAASD,KAGnBzD,EAAOiD,UAAW,GAAkB,WAATQ,GAA/B,CAGA,GAAIE,GAAShB,EAASiB,YAAYH,IAASd,EAASiB,YAAYC,MAC9DC,EAAUnB,EAASe,SAASD,EAE1BL,KACFrB,EAAQpC,MAAQH,EAAMG,MACtBoC,EAAQnC,OAASJ,EAAMI,OAEnBsD,GAASY,YAAmBC,yBAC9BhC,EAAQpC,OAAU,GAClBoC,EAAQnC,QAAU,IAGpBwD,GAAQ,GAGNU,YAAmBC,uBACrB/B,EAAegC,UAAUL,EAAQ,EAAG,EAAGA,EAAOhE,MAAQ,EAAGgE,EAAO/D,OAAS,GAEzEoC,EAAegC,UAAUL,EAAQ,EAAG,IAEjCN,EAAahG,QAAQyG,IAG1BT,EAAaY,KAAKH,MAIpBT,KACAvD,EAAEoE,aAAavB,GACfJ,EAAG4B,WAAWhF,YAAYoD,IAO5BpB,EAAMkB,UAAUV,KAAO,SAAS5B,EAAGC,EAAQR,KAErCQ,EAAOiB,MAAQjB,EAAOiB,KAAO,KAC/BjB,EAAOiB,KAAOpD,OAAOuG,WAEvB,IAAIlB,GAAQnD,YAAaG,OAAMiD,UAAUD,MACrCE,GAAQ,EACRC,KAEA3B,EAAS7C,SAASC,cAAc,UAChCuF,EAAe3C,EAAO4B,WAAW,KAyDrC,OAvDAxB,GAAU0B,QAAQ,SAASC,GACzB,GAAK1D,EAAE2D,SAASD,KAGZzD,EAAOiD,UAAW,GAAkB,WAATQ,GAA/B,CAGA,GAAIE,GAAS5D,EAAE6D,YAAYH,IAAS1D,EAAE6D,YAAYC,MAChDC,EAAU/D,EAAE2D,SAASD,EAEvB,MAAKJ,EAAahG,QAAQyG,GAA1B,CAGA,IAAKV,EAAO,CAEV,GAAIzD,GAAOC,CAEPI,GAAOuB,MAIT5B,EAAQgE,EAAOhE,MACfC,EAAS+D,EAAO/D,OAChBJ,EAAQJ,EAAwBO,EAAOC,EAAQI,EAAOiB,QALtDtB,EAAQoC,EAAQpC,MAChBC,EAASmC,EAAQnC,QAOnB8B,EAAO/B,MAAQH,EAAMG,MACrB+B,EAAO9B,OAASJ,EAAMI,QAEjBsD,IAAUY,YAAmBC,yBAChCrC,EAAO/B,OAAS,EAChB+B,EAAO9B,QAAS,GAGlBwD,GAAQ,EAGJpD,EAAOsE,aACTD,EAAcE,KAAK,EAAG,EAAG7C,EAAO/B,MAAO+B,EAAO9B,QAC9CyE,EAAcG,UAAYxE,EAAOsE,WACjCD,EAAcI,QAIfzE,EAAOuB,KACR8C,EAAcL,UAAUL,EAAQ,EAAG,EAAGjC,EAAO/B,MAAO+B,EAAO9B,QAE3DyE,EAAcL,UAAUjC,EAAS,EAAG,EAAGL,EAAO/B,MAAO+B,EAAO9B,QAE9DyD,EAAaY,KAAKH,OAIpBT,KAEO3B,EAOT,IAAIgD,GAAY,IAOhBxE,OAAMyE,QAAQC,MAAQ,SAAS9E,EAAGC,EAAG8E,GAMnC,MALA3E,OAAMyE,QAAQG,YAETJ,IACHA,EAAY,GAAIvD,GAAMrB,EAAGC,EAAG8E,IAEvBH,GAMTxE,MAAMyE,QAAQG,UAAY,WACpBJ,YAAqBvD,KACvBuD,EAAY,KACZ3C,EAAU,KACVC,EAAiB,SAIpB+C,KAAKvD"}