(function(){"use strict";if("undefined"==typeof sigma)throw"sigma.renderers.glyphs: sigma not in scope.";sigma.utils.pkg("sigma.settings");var a={glyphScale:.5,glyphFillColor:"white",glyphTextColor:"black",glyphStrokeColor:"black",glyphLineWidth:2,glyphFont:"Arial",glyphFontStyle:"normal",glyphFontScale:1,glyphTextThreshold:7,glyphStrokeIfText:!1,glyphThreshold:1,drawGlyphs:!0};sigma.settings=sigma.utils.extend(sigma.settings||{},a)}).call(this),function(){"use strict";function a(a){return a*Math.PI/180}function b(a,b){return"function"==typeof a?a.call(b):a}function c(c){function d(a,b){if(a.draw&&a.x&&a.y&&a.radius>a.threshold){var c=a.x,d=a.y;switch(a.position){case"top-right":c+=a.nodeSize*A,d+=a.nodeSize*B;break;case"top-left":c+=a.nodeSize*y,d+=a.nodeSize*z;break;case"bottom-left":c+=a.nodeSize*w,d+=a.nodeSize*x;break;case"bottom-right":c+=a.nodeSize*u,d+=a.nodeSize*v}if(b.fillStyle=a.fillColor,a.strokeColor!==b.strokeStyle&&(b.strokeStyle=a.strokeColor),b.beginPath(),b.arc(c,d,a.radius,2*Math.PI,!1),b.closePath(),(!a.strokeIfText||a.radius>a.textThreshold)&&b.stroke(),b.fill(),a.radius>a.textThreshold){var e=Math.round(a.fontScale*a.radius),f=a.fontStyle+" "+e+"px "+a.font;f!==b.font&&(b.font=f),b.fillStyle=a.textColor,b.fillText(a.content,c,d)}}}c=c||{};var e=c.font||this.settings("glyphFont"),f=c.fontStyle||this.settings("glyphFontStyle"),g=c.fontScale||this.settings("glyphFontScale"),h=c.strokeColor||this.settings("glyphStrokeColor"),i=c.lineWidth||this.settings("glyphLineWidth"),j=c.fillColor||this.settings("glyphFillColor"),k=c.scale||this.settings("glyphScale"),l=c.textColor||this.settings("glyphTextColor"),m=c.textThreshold||this.settings("glyphTextThreshold"),n="strokeIfText"in c?c.strokeIfText:this.settings("glyphStrokeIfText"),o=c.threshold||this.settings("glyphThreshold"),p="draw"in c?c.draw:this.settings("drawGlyphs");if(p){this.domElements.glyphs||(this.initDOM("canvas","glyphs"),this.domElements.glyphs.width=this.container.offsetWidth,this.domElements.glyphs.height=this.container.offsetHeight,this.container.insertBefore(this.domElements.glyphs,this.domElements.glyphs.previousSibling)),this.drawingContext=this.domElements.glyphs.getContext("2d"),this.drawingContext.textAlign="center",this.drawingContext.textBaseline="middle",this.drawingContext.lineWidth=i,this.drawingContext.strokeStyle=h;var q,r=this,s=this.nodesOnScreen||[],t=this.options.prefix||"",u=Math.cos(a(45)),v=Math.sin(a(45)),w=Math.cos(a(135)),x=Math.sin(a(135)),y=Math.cos(a(225)),z=Math.sin(a(225)),A=Math.cos(a(315)),B=Math.sin(a(315));s.forEach(function(a){a.glyphs&&a.glyphs.forEach(function(c){q=!a.hidden,q&&"draw"in c&&(q=c.draw),d({x:a[t+"x"],y:a[t+"y"],nodeSize:a[t+"size"]||0,position:c.position,radius:c.size||a[t+"size"]*k,content:(c.content||"").toString()||"",lineWidth:c.lineWidth||i,fillColor:b(c.fillColor,a)||j,textColor:b(c.textColor,a)||l,strokeColor:b(c.strokeColor,a)||h,strokeIfText:"strokeIfText"in c?c.strokeIfText:n,fontStyle:c.fontStyle||f,font:c.font||e,fontScale:c.fontScale||g,threshold:c.threshold||o,textThreshold:c.textThreshold||m,draw:q},r.drawingContext)})})}}if("undefined"==typeof sigma)throw"sigma is not declared";sigma.renderers.canvas.prototype.glyphs=c}.call(this);
//# sourceMappingURL=sigma.renderers.glyphs.min.js.map